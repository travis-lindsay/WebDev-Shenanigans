<!DOCTYPE html>
<html lang="en-US">
<head>
    <title>Javascript Sudoku</title>
    <link rel="stylesheet" href="./CSS/GameGridStyle.css">
    <link rel="icon" type="image/x-icon" href="./IMG/num9.ico" >
    <style>
        /*Demo of max screen size css3 capability, "media queries"*/
        /*@media screen and (max-width: 1000px) {
            .PageDiv6 {
                display: none;
                color: green;
            }
            .PageDiv4 {
                display: none;
            }
            .PageDiv5 {
                display: none;
            }
    
        }*/
    </style>
</head>
<body>
    <div class="PageDiv4">
    
    <h3>Last Cell Clicked:</h3>
        <p class="boldish">Row: <span id="lastRow">0</span></p>
        <p class="boldish">Col: <span id="lastCol">0</span></p>
    </div>
    
    <div class="PageDiv5">
    
    <h3>Login Info:</h3>
    <h6>Click the Product Design Info button if you wish to login again</h6>
        <p class="boldish">User: <div id="user"></div></p>
        <p class="boldish">Time: <div id="stamp"></div></p>
    <button class="linkButton" onclick='clearLocalStorage()'>Clear Storage</button>
    
    </div>
    
    <div class="PageDiv6">
    
    <h3>Load JSON:</h3>
    <h6>Click the difficulty buttons to load via AJAX the JSON file</h6>
    <button class="linkButton2" id="eBt" onclick='getJSONFile'>Easy - JSON</button>
    <button class="linkButton2" id="mBt" onclick='getJSONFile'>Medium - JSON</button>
    <button class="linkButton2" id="hBt" onclick='getJSONFile'>Hard - JSON</button>
    <button class="linkButton2" id="cBt" onclick='canvasAnim'>CanvasTest</button>
    
    </div>
    
    <!--<div class="PageDiv5">
    
    <h3>Assignment 4 Stuff:</h3>
        <p class="boldish">-The "inputs" required for this assignment are located in the settings menu, (the small cog icon just below the Sudoku Puzzle) The 'Select' options change minor difficulty settings, and the 'Text' input changes the title of the game.</p>
        <p class="boldish">-And the Animations, are located on the "Select Difficulty" menu</p>
    </div>-->
    
<div class="PageDiv2 PageDiv2Gradient" id=idNum1>
    <div class="headerButtons">
        <a href="../index.html"><button class="linkButton"><img src="./IMG/home.png" id="homeBt"></button></a>
        <button class="linkButton" id="returnToMenu">Game Menu</button>
        <a href="details.html"> <button class="linkButton" type="button">Project Design Info</button> </a>
        <a href="http://www.sudokuessentials.com/how_to_play_sudoku.html" target="blank"> <button class="linkButton" type="button">Game Rules</button> </a>
    </div>
<h3><span id ="userN">Javascript</span> Sudoku Game: <span class="whiteText">Version 6.0.1</span></h3>  
        
<div class = "sudokuGameGrid" id = "sudokuGrid" oncontextmenu="return false;">
    
    <!--Canvas Test    
    <canvas id="canvasGraphic"></canvas>
    Canvas Test --> 
    
<!--    <table id="sudokuGameTable"><tbody><tr class="topBorderEdge"><td class="leftBorderEdge">2</td><td>4</td><td class="rightEdge"></td><td class="leftEdge"></td><td></td><td class="rightEdge">7</td><td class="leftEdge"></td><td></td><td class="rightBorderEdge"></td></tr><tr><td class="leftBorderEdge">1</td><td>8</td><td class="rightEdge">9</td><td class="leftEdge"></td><td></td><td class="rightEdge"></td><td class="leftEdge">2</td><td>7</td><td class="rightBorderEdge">5</td></tr><tr><td class="leftBorderEdge">5</td><td></td><td class="rightEdge">3</td><td class="leftEdge"></td><td></td><td class="rightEdge">1</td><td class="leftEdge">4</td><td></td><td class="rightBorderEdge"></td></tr><tr class="topEdge"><td class="leftBorderEdge"></td><td>1</td><td class="rightEdge"></td><td class="leftEdge"></td><td>2</td><td class="rightEdge"></td><td class="leftEdge"></td><td></td><td class="rightBorderEdge">7</td></tr><tr><td class="leftBorderEdge"></td><td></td><td class="rightEdge">7</td><td class="leftEdge"></td><td></td><td class="rightEdge"></td><td class="leftEdge"></td><td>2</td><td class="rightBorderEdge"></td></tr><tr><td class="leftBorderEdge">9</td><td>5</td><td class="rightEdge"></td><td class="leftEdge"></td><td></td><td class="rightEdge"></td><td class="leftEdge">3</td><td>4</td><td class="rightBorderEdge"></td></tr><tr class="topEdge"><td class="leftBorderEdge">7</td><td></td><td class="rightEdge">4</td><td class="leftEdge"></td><td></td><td class="rightEdge">2</td><td class="leftEdge">8</td><td>9</td><td class="rightBorderEdge"></td></tr><tr><td class="leftBorderEdge">3</td><td></td><td class="rightEdge"></td><td class="leftEdge"></td><td></td><td class="rightEdge">8</td><td class="leftEdge"></td><td>5</td><td class="rightBorderEdge"></td></tr><tr class="bottomBorderEdge"><td class="leftBorderEdge">8</td><td></td><td class="rightEdge">5</td><td class="leftEdge">7</td><td>1</td><td class="rightEdge">4</td><td class="leftEdge">6</td><td></td><td class="rightBorderEdge"></td></tr></tbody></table>-->


</div>

<div class="numberOptions" id="nums">
<!--This will be filled in via javascript -->

<!--<button class="button1">1</button><button class="button1">2</button><button class="button1">3</button><button class="button1">4</button><button class="button1">5</button><button class="button1">6</button><button class="button1">7</button><button class="button1">8</button><button class="button1">9</button><button class="timer" id="time1">Time:</button><button class="elapsedTime" id="time">01:25</button>-->

</div>
<div class="secondaryMenu" id="checks" >
<!--This will be filled in via javascript -->
<!--    <div class="settingsMenu">
        <button id="settings"></button>
        <div class="settingsMenuContent">
            <p id="gameOpt"><b>Game Options:</b></p>
            <select>
                <option value="No-Highlighting">No-Highlighting</option>
                <option value="Grid-Highlighting">Grid-Highlighting</option>
            </select>
             <select>
                <option value="Losing-Enabled">Losing-Enabled</option>
                <option value="Losing-Disabled">Losing-Disabled</option>
            </select>
        </div>
    </div>
    <button id="hintButton">Hint</button>
    <button id="hintChecks">
        <span class="checksGone">✔</span>
        <span class="checksGone">✔</span>
        <span class="checksGone">✔</span>
    </button><button id="errorChunk">Errors</button>
    <button id="errorChecks">
        <span class="checksGone">✘</span>
        <span class="checksGone">✘</span>
        <span class="checksGone">✘</span>
    </button>-->

</div>
        
    
        <div id="yahooApp">

            <div id="yahooContent">
                 <div id="yahooLogo">
                <a href="https://www.yahoo.com/?ilc=401" target="_blank"> <img src="https://poweredby.yahoo.com/white.png" width="134" height="29"/> </a>
            </div>
                <a class="onTop" href="https://weather.yahoo.com" target="_blank">
                <!--To be filled in by API call-->
                <div id="weather1">
                    <span id="temperature">50&deg</span>
                    <span id="location">Provo, UT</span>
                    <img id="wIMG" src="http://l.yimg.com/a/i/us/we/52/34.gif">
                </div>
                <div id="weather2">
                    <span class="wItems" id="date">Wed, 19 Oct 2016 10:00 PM PDT</span>
                    <span class="wItems" id="humidity">Humidity: <span id="innerH">60</span>%</span>
                    <span class="wItems" id="text">Clear</span>
                </div>
               </a>
            </div>
            
        </div>
        
    
<!--Test of the audio tag feature-->
<audio id="clickSound">
    <source src="./IMG/Sounds/Tiny%20Button%20Push-SoundBible.com-513260752.mp3" type="audio/mpeg">    
</audio>
<audio id="clickSound2">
    <source src="./IMG/Sounds/Tiny%20Button%20Push-SoundBible.com-513260752.mp3" type="audio/mpeg">    
</audio>
<audio id="errorSound">
    <source src="./IMG/Sounds/Computer%20Error%20Alert-SoundBible.com-783113881.mp3" type="audio/mpeg">    
</audio>
<audio id="cowSound">
    <source src="./IMG/Sounds/Single Cow-SoundBible.com-2051754137.mp3" type="audio/mpeg">    
</audio>
        

        
</div>
 

<script src="./Model/AssignmentScript.js"></script>
<script src="./Model/stopwatch.js"></script>
<script src="./View/Animation.js"></script>
<script src="./View/Render.js"></script>
<script src="./Model/RandomPuzzle.js"></script>
<script src="./View/Canvas.js"></script>
<script>
//Set Event listener for Game Menu button
    var gameMenuButton = document.getElementById("returnToMenu");
    gameMenuButton.addEventListener('click', refreshPage, false);
    
    //set event listeners for JSON buttons
    var button1 = document.getElementById("eBt");
    button1.addEventListener('click', getJSONFile, false);
    button1 = document.getElementById("mBt");
    button1.addEventListener('click', getJSONFile, false);
    button1 = document.getElementById("hBt");
    button1.addEventListener('click', getJSONFile, false);
    button1 = document.getElementById("cBt");
    button1.addEventListener('click', canvasAnim, false);
    
    function refreshPage() {
        location.reload(); //Simply refreshes the page
    }
    
    parseLocalStorage();
    
    function parseLocalStorage(){
//Snag the local storage, and set the user and time values
    var locSto = localStorage.getItem("cs2550timestamp");
    //parse the username and timestamp from the string
        if(locSto != null){
           var index = locSto.indexOf(" ");
            var userName = locSto.substr(0,index);
            var timestamp = locSto.substr(index, locSto.length); 
                    //Place the parsed variables in the mini-menu
            var userSpan = document.getElementById("user");
            var stampSpan = document.getElementById("stamp");
            userSpan.innerHTML = userName;
            stampSpan.innerHTML = timestamp;
        }
        else {
            var userSpan = document.getElementById("user");
            var stampSpan = document.getElementById("stamp");
            userSpan.innerHTML = " ";
            stampSpan.innerHTML = " ";
        }

    }

//clear storage function
    function clearLocalStorage(){
        localStorage.clear(); //clears everything in local storage
        parseLocalStorage(); //reset the visual display
    }
    
</script>

<!--testing the yahoo API-->
<script>
  var callbackFunction = function(yahooData) {
    var temp = yahooData.query.results.channel.item.condition.temp;
    var tDiv = document.getElementById("temperature");
    tDiv.innerHTML = temp + "&deg";
    var dTime = document.getElementById("date");
    dTime.innerHTML = yahooData.query.results.channel.item.condition.date;
    var hum = document.getElementById("innerH");
    hum.innerHTML = yahooData.query.results.channel.atmosphere.humidity;
    var cond = document.getElementById("text");
    cond.innerHTML = yahooData.query.results.channel.item.condition.text;
    var url = yahooData.query.results.channel.item.description;
    var res = url.match(/src=\"(.+)\"/);
    document.getElementById("wIMG").src = res[1];
      
  };
</script>

<script src="https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where text='provo, ut')&format=json&callback=callbackFunction"></script>

</body>
</html>